(this.webpackJsonprp=this.webpackJsonprp||[]).push([[0],{43:function(e,t,a){},45:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),s=a(36),c=a.n(s),i=(a(43),a(17)),o=a.n(i),l=a(12),h=a(23),d=a(8),j=a(9),u=a(11),b=a(10);a(45);var p=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(j.a)(a,[{key:"render",value:function(){for(var e=this,t={cursor:"pointer"},a=[],n=Math.ceil(this.props.totalItems/this.props.itemsPerPage),s=1;s<=n;s++)a[s]=s;return Object(r.jsx)("div",{children:Object(r.jsx)("ul",{className:"pagination",children:a.map((function(a){return Object(r.jsx)("li",{style:t,className:"page-item",children:Object(r.jsx)("a",{onClick:function(){return e.props.onPageChange(a)},className:"page-link",children:a})},a)}))})})}}]),a}(n.Component),m=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=Object(l.a)(this.props.posts),t=function(e,t,a,r){for(var n=Object(l.a)(e),s=(t-1)*a,c=[],i=0;i<a&&s+i<=r-1;i++)c[i]=n[s+i];return c}(e,this.props.currPage,this.props.itemsPerPage,e.length);return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("h3",{children:"Posts"}),Object(r.jsxs)("table",{className:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Id"}),Object(r.jsx)("th",{children:"Comment"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("div",{className:"card-header ",children:e.title}),Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)("div",{className:"ml-3",children:e.body})})]})})]},e.id)}))})]}),Object(r.jsx)(p,{itemsPerPage:this.props.itemsPerPage,onPageChange:this.props.onPageChange,currPage:this.props.currPage,totalItems:e.length})]})})}}]),a}(n.Component),O=a(2),v=a(14),g=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark text-white bg-primary mb-3",children:[Object(r.jsx)(v.b,{to:"/",className:"navbar-brand text-white",children:"Posts"}),Object(r.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(r.jsx)("li",{className:"nav-item text-white",children:Object(r.jsx)(v.b,{className:"nav-link ",to:"/addPost",children:"Add Post"})})})]})}}]),a}(n.Component),f=a(16),x=a(20),y=a(19),P=a.n(y),C=a(18),N=a.n(C),w=(a(67),function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={data:{title:"",body:""},errors:{}},e.schema={title:N.a.string().min(3).required().label("Title"),body:N.a.string().required().label("Body")},e.handleChange=function(t){var a=Object(x.a)({},e.state.errors),r=e.validateInput(t.currentTarget);""!==r?a[t.currentTarget.name]=r:delete a[t.currentTarget.name];var n=Object(x.a)({},e.state.data);n[t.currentTarget.name]=t.currentTarget.value,e.setState({data:n,errors:a})},e.validateInput=function(t){var a=Object(f.a)({},t.name,e.schema[t.name]),r=Object(f.a)({},t.name,t.value),n=N.a.validate(r,a);return n.error?n.error.details[0].message:""},e.validate=function(){var t=Object(x.a)({},e.state.errors),a=N.a.validate(e.state.data,e.schema,{abortEarly:!1});return a.error?(Object(l.a)(a.error.details).forEach((function(e){t[e.path[0]]=e.message})),t):null},e.handleSubmit=function(t){t.preventDefault();var a=e.validate();e.setState({errors:a||{}}),a||e.props.onAddPost(e.state.data)},e}return Object(j.a)(a,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"mt-3",children:[Object(r.jsx)("h3",{children:"Add A post !"}),Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"title",children:"Title"}),Object(r.jsx)("input",{className:"form-control",type:"text",name:"title",value:this.state.data.title,onChange:this.handleChange,id:"title"}),this.state.errors.title&&Object(r.jsx)("div",{className:"alert alert-danger",children:this.state.errors.title})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"body",children:"Body"}),Object(r.jsx)("input",{className:"form-control",type:"text",name:"body",value:this.state.data.body,onChange:this.handleChange,id:"body"}),this.state.errors.body&&Object(r.jsx)("div",{className:"alert alert-danger",children:this.state.errors.body})]}),Object(r.jsx)("button",{disabled:this.validate(),className:"btn btn-primary",children:"Submit"})]})]})})}}]),a}(n.Component));var k=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={posts:[],currPage:1,itemsPerPage:10,searchquery:""},e.handleAddPost=function(){var t=Object(h.a)(o.a.mark((function t(a){var r,n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.post("https://jsonplaceholder.typicode.com/posts",a);case 2:r=t.sent,n=r.data,s=[n].concat(Object(l.a)(e.state.posts)),e.setState({posts:s});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePageChange=function(t){e.setState({currPage:t})},e.handleSearchChange=function(t){var a=t.currentTarget.value;e.setState({searchquery:a,currPage:1})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("https://jsonplaceholder.typicode.com/posts");case 2:t=e.sent,a=t.data,r=Object(l.a)(a),this.setState({posts:r});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.posts;return this.state.searchquery&&(t=function(e,t){var a=t.toLowerCase(),r=[];return e.forEach((function(e){for(var t=e.title.toLowerCase(),n="",s=0;s<a.length;s++)n+=t[s];n==a&&r.push(e)})),r}(this.state.posts,this.state.searchquery)),Object(r.jsxs)("div",{children:[Object(r.jsx)(g,{}),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("div",{className:"form-group m-2",children:Object(r.jsx)("input",{className:"form-control",type:"text",onChange:this.handleSearchChange,value:this.state.searchquery,name:"search",id:"search",placeholder:"Search For a post"})}),Object(r.jsxs)(O.c,{children:[Object(r.jsx)(O.a,{path:"/",exact:!0,component:function(){return Object(r.jsx)(m,{posts:t,onPageChange:e.handlePageChange,currPage:e.state.currPage,itemsPerPage:e.state.itemsPerPage})}}),Object(r.jsx)(O.a,{path:"/addPost",component:function(){return Object(r.jsx)(w,{onAddPost:e.handleAddPost})}})]})]})]})}}]),a}(n.Component),S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};a(69);c.a.render(Object(r.jsx)(v.a,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),S()}},[[70,1,2]]]);
//# sourceMappingURL=main.e71bc62e.chunk.js.map